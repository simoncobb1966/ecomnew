{"ast":null,"code":"var _jsxFileName = \"/home/simon/tr_course/ecomnew/src/components/checkout.js\";\nimport React, { Component } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button'; // done with Bootstrap modal\n\nclass Checkout extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      errorMessage: '',\n      email: '',\n      password: '',\n      errFlag: false,\n      basket: this.props.basket\n    };\n\n    this.signIn = () => {\n      var details = {};\n      details.email = this.state.email;\n      details.password = this.state.password;\n\n      if (details.password === \"\") {\n        this.setState({\n          errorMessage: \"Wrong password, please re-enter\"\n        });\n      }\n\n      if (details.email === \"\") {\n        this.setState({\n          errorMessage: \"Email address not found, please re-enter or register\"\n        });\n      }\n\n      if (details.password !== \"\" & details.email !== \"\") {\n        this.props.signIn(details);\n        this.setState({\n          errFlag: true\n        });\n      }\n    };\n\n    this.makepayment = amount => {\n      alert(\"Send payment gateway \\xA3\".concat(amount)); //      this.setState({basket:[]})\n\n      this.props.checkedOut(amount);\n    };\n\n    this.handleChange = event => {\n      const name = event.target.name;\n      this.setState({\n        [name]: event.target.value,\n        errorMessage: '',\n        errFlag: false\n      });\n    };\n\n    this.totalPrice = () => {\n      var totalPrice = 0;\n      const basket = this.state.basket;\n\n      for (let i = 0; i < basket.length; i++) {\n        totalPrice = totalPrice + basket[i].qty * basket[i].cost;\n      }\n\n      return totalPrice;\n    };\n\n    this.totalItems = () => {\n      var total = 0;\n\n      for (let i = 0; i < this.state.basket.length; i++) {\n        total = total + this.state.basket[i].qty;\n      }\n\n      return total;\n    };\n  }\n\n  render() {\n    const remItem = id => {\n      var newBasket = this.state.basket.filter((item, index) => index !== id);\n      this.setState({\n        basket: newBasket\n      });\n      this.props.remItem(newBasket);\n    };\n\n    var products = this.state.basket.map((elem, i) => {\n      return React.createElement(\"li\", {\n        key: i,\n        className: \"listNoDot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => {\n          remItem(i);\n        },\n        className: \"trashcan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-trash\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }))), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, elem.qty, \" x \", elem.title.slice(0, 22), \" \", elem.format, \" @ £\", elem.cost, \" each =\"), React.createElement(\"span\", {\n        className: \"shoppingbasket-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"£\", elem.cost * elem.qty.toFixed(2)));\n    });\n    return React.createElement(React.Fragment, null, React.createElement(Modal, {\n      show: this.props.openClose,\n      onHide: this.props.closeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, this.totalItems() === 1 && React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"CHECKOUT \", this.totalItems(), \" ITEM\"), this.totalItems() !== 1 && React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"CHECKOUT \", this.totalItems(), \" ITEMS\")), products, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"shoppingbasket-right1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"TOTAL PRICE = \\xA3\", this.totalPrice().toFixed(2)))), !this.props.login && React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      className: \"createAccount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"If you already have an account enter your LOGIN details otherwise press the REGISTER to enter your details\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      placeholder: \"Enter your email\",\n      onChange: this.handleChange,\n      className: \"form-control registerTextBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      controlid: \"formBasicPassword\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Enter your password\",\n      onChange: this.handleChange,\n      className: \"form-control registerTextBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), this.props.error && this.state.errFlag && React.createElement(\"p\", {\n      className: \"redText centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Details not found, please try again\"), this.state.errorMessage.length > 1 && React.createElement(\"p\", {\n      className: \"redText centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, this.state.errorMessage), React.createElement(Button, {\n      variant: \"success\",\n      onClick: () => {\n        this.signIn(this.props.customerList);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \" SIGN IN\")), this.props.login && React.createElement(React.Fragment, null, React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"CUSTOMER DETAILS\")), React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, this.props.customer.firstName, \" \", this.props.customer.secondName), React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, this.props.customer.address1), React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, this.props.customer.address2), React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, this.props.customer.address3), React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, this.props.customer.address4), React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, this.props.customer.address5), React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, this.props.customer.address6)), this.totalItems() > 0 && React.createElement(\"div\", {\n      className: \"centerbutton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, this.props.login && React.createElement(Button, {\n      className: \"payButton\",\n      color: \"secondary\",\n      onClick: () => {\n        this.makepayment(this.totalPrice());\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"PAY \\xA3\", this.totalPrice(), \" NOW\")), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, this.props.login && React.createElement(Button, {\n      onClick: () => {\n        this.props.logOut();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"LOG OUT\"), React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.props.closeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Close\"), !this.props.login && React.createElement(React.Fragment, null, React.createElement(Button, {\n      onClick: () => {\n        this.props.openModal(\"register\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"REGISTER\")), this.props.login && this.props.basket > 1 && React.createElement(Button, {\n      onClick: () => {\n        this.props.openModal(\"signin\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"CHECKOUT\"))));\n  }\n\n}\n\nexport default Checkout;","map":{"version":3,"sources":["/home/simon/tr_course/ecomnew/src/components/checkout.js"],"names":["React","Component","Modal","Button","Checkout","state","errorMessage","email","password","errFlag","basket","props","signIn","details","setState","makepayment","amount","alert","checkedOut","handleChange","event","name","target","value","totalPrice","i","length","qty","cost","totalItems","total","render","remItem","id","newBasket","filter","item","index","products","map","elem","title","slice","format","toFixed","openClose","closeModal","login","handleSubmit","error","customerList","customer","firstName","secondName","address1","address2","address3","address4","address5","address6","logOut","openModal"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\n// done with Bootstrap modal\n\nclass Checkout extends Component {\n\n    state = {\n        errorMessage: '',\n        email: '',\n        password: '',\n        errFlag: false,\n        basket: this.props.basket\n    };\n\n    signIn = () => {\n        var details = {}\n        details.email = this.state.email\n        details.password = this.state.password\n\n        if (details.password === \"\") { this.setState({ errorMessage: \"Wrong password, please re-enter\" }) }\n        if (details.email === \"\") { this.setState({ errorMessage: \"Email address not found, please re-enter or register\" }) }\n\n        if (details.password !== \"\" & details.email !== \"\") {\n            this.props.signIn(details)\n            this.setState({ errFlag: true })\n        }\n    }\n\n    makepayment = (amount) => {\n        alert(`Send payment gateway £${amount}`)\n        //      this.setState({basket:[]})\n        this.props.checkedOut(amount)\n    }\n\n    handleChange = (event) => {\n        const name = event.target.name\n        this.setState({\n            [name]: event.target.value,\n            errorMessage: '',\n            errFlag: false\n        })\n    }\n\n    totalPrice = () => {\n        var totalPrice = 0\n        const basket = this.state.basket\n        for (let i = 0; i < basket.length; i++) {\n            totalPrice = totalPrice + (basket[i].qty * basket[i].cost)\n        }\n        return totalPrice\n    }\n\n    totalItems = () => {\n        var total = 0\n        for (let i = 0; i < this.state.basket.length; i++) {\n            total = total + this.state.basket[i].qty\n        }\n        return total\n    }\n\n    render() {\n\n        const remItem = (id) => {\n            var newBasket = this.state.basket.filter((item, index) => (index !== id))\n            this.setState({ basket: newBasket })\n            this.props.remItem(newBasket)\n        }\n\n        var products = this.state.basket.map(((elem, i) => {\n            return (\n                <li key={i} className=\"listNoDot\">\n                    <span>\n                        <button onClick={() => { remItem(i) }} className=\"trashcan\"><i className=\"fa fa-trash\"></i></button>\n                    </span>\n                    <span>\n                        {elem.qty}{\" x \"}\n                        {elem.title.slice(0, 22)}{\" \"}\n                        {elem.format}{\" @ £\"}\n                        {elem.cost}{\" each =\"}\n                    </span>\n                    <span className=\"shoppingbasket-right\">\n                        {\"£\"}{elem.cost * elem.qty.toFixed(2)}\n                    </span>\n                </li>\n            )\n        }))\n\n        return (\n            <>\n                <Modal show={this.props.openClose} onHide={this.props.closeModal}>\n                    <Modal.Header closeButton>\n                        {(this.totalItems() === 1) &&\n\n                            <Modal.Title>CHECKOUT {this.totalItems()} ITEM</Modal.Title>\n                        }\n                        {(this.totalItems() !== 1) &&\n\n                            <Modal.Title>CHECKOUT {this.totalItems()} ITEMS</Modal.Title>\n                        }\n                    </Modal.Header>\n\n                    {/* <p className=\"shoppingbasket\"><strong>Number of items in basket {this.totalItems()}</strong></p> */}\n\n                    {products}\n                    <p></p>\n                    <div >\n                        <p className=\"shoppingbasket-right1\">\n                            <strong>TOTAL PRICE = £{this.totalPrice().toFixed(2)}</strong>\n                        </p>\n                    </div>\n                    {(!this.props.login) &&\n                        <form onSubmit={this.handleSubmit} className=\"createAccount\">\n                            <p className=\"shoppingbasket\">If you already have an account enter your LOGIN details otherwise press the REGISTER to enter your details</p>\n                            <input type=\"text\" name=\"email\"\n                                placeholder=\"Enter your email\"\n                                onChange={this.handleChange}\n                                className=\"form-control registerTextBox\">\n                            </input>\n                            <input \n                            controlid=\"formBasicPassword\"\n                            type=\"password\" name=\"password\"\n                                placeholder=\"Enter your password\"\n                                onChange={this.handleChange}\n                                className=\"form-control registerTextBox\">\n                            </input>\n\n                            {this.props.error && this.state.errFlag &&\n                                <p className=\"redText centered\">Details not found, please try again</p>\n                            }\n\n                            {this.state.errorMessage.length > 1 &&\n                                <p className=\"redText centered\">{this.state.errorMessage}</p>\n                            }\n                            <Button variant=\"success\" onClick={() => { (this.signIn(this.props.customerList)) }} > SIGN IN\n                                    </Button>\n                        </form>\n\n                    }\n\n                    {/* CUSTOMER DETAILS */}\n                    {this.props.login &&\n                        <>\n                            <li className=\"shoppingbasket\"><strong>CUSTOMER DETAILS</strong></li>\n                            <li className=\"shoppingbasket\">{this.props.customer.firstName}{\" \"}{this.props.customer.secondName}</li>\n                            <li className=\"shoppingbasket\">{this.props.customer.address1}</li>\n                            <li className=\"shoppingbasket\">{this.props.customer.address2}</li>\n                            <li className=\"shoppingbasket\">{this.props.customer.address3}</li>\n                            <li className=\"shoppingbasket\">{this.props.customer.address4}</li>\n                            <li className=\"shoppingbasket\">{this.props.customer.address5}</li>\n                            <li className=\"shoppingbasket\">{this.props.customer.address6}</li>\n                        </>\n                    }\n\n                    {(this.totalItems() > 0) &&\n                        <div className=\"centerbutton\">\n                            {this.props.login &&\n                                <Button className=\"payButton\" color=\"secondary\" onClick={() => { this.makepayment(this.totalPrice()) }} >PAY £{this.totalPrice()} NOW\n                                    </Button>\n                            }\n                            {/* <p></p> */}\n                        </div>\n                    }\n                    <Modal.Footer>\n                        {this.props.login &&\n                            <Button onClick={() => { this.props.logOut() }} >LOG OUT\n                                    </Button>\n                        }\n\n\n                        <Button variant=\"secondary\" onClick={this.props.closeModal}>\n                            Close\n                            </Button>\n                        {(!this.props.login) &&\n                            <>\n                                <Button onClick={() => { this.props.openModal(\"register\") }} >REGISTER\n                                    </Button>\n                                {/* <Button onClick={() => { this.props.openModal(\"signin\") }} >Sign In\n                                    </Button> */}\n                            </>\n                        }\n                        {(this.props.login) && this.props.basket > 1 &&\n                            <Button onClick={() => { this.props.openModal(\"signin\") }} >CHECKOUT\n                                </Button>\n                        }\n\n                    </Modal.Footer>\n                </Modal>\n            </>\n        );\n    }\n}\n\n\nexport default Checkout;"]},"metadata":{},"sourceType":"module"}