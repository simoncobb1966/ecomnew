{"ast":null,"code":"var _jsxFileName = \"/home/simon/tr_course/ecomnew/src/components/checkout.js\";\nimport React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Modal from 'react-bootstrap/Modal'; // done with Bootstrap modal\n// const classes = this.useStyles();\n\nclass Checkout extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // show: false,\n      errorMessage: '',\n      email: '',\n      password: ''\n    };\n\n    this.handleChange = event => {\n      const name = event.target.name;\n      this.setState({\n        [name]: event.target.value,\n        errorMessage: ''\n      });\n    };\n\n    this.totalPrice = () => {\n      var totalPrice = 0;\n      const basket = this.props.basket;\n\n      for (let i = 0; i < basket.length; i++) {\n        totalPrice = totalPrice + basket[i].qty * basket[i].cost;\n      }\n\n      return totalPrice;\n    };\n\n    this.totalItems = () => {\n      var total = 0;\n\n      for (let i = 0; i < this.props.basket.length; i++) {\n        total = total + this.props.basket[i].qty;\n      }\n\n      return total;\n    };\n  }\n\n  render() {\n    const products = this.props.basket.map(function (elem, i) {\n      return React.createElement(\"li\", {\n        key: i,\n        className: \"shoppingbasket\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, elem.qty, \" x \", elem.title, \" \", elem.format, \" @ £\", elem.cost, \" each\"), React.createElement(\"span\", {\n        className: \"shoppingbasket-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \" = £\", elem.cost * elem.qty));\n    }); // const classes = this.useStyles();\n    // const useStyles = makeStyles(theme => ({\n    //     button: {\n    //       margin: theme.spacing(1),\n    //     },\n    //     input: {\n    //       display: 'none',\n    //     },\n    //   }));\n\n    return React.createElement(React.Fragment, null, React.createElement(\"element\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      show: this.props.openClose,\n      onHide: this.props.closeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, this.totalItems() === 1 && React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"CHECKOUT \", this.totalItems(), \" ITEM\"), this.totalItems() !== 1 && React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"CHECKOUT \", this.totalItems(), \" ITEMS\")), React.createElement(\"p\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Number of items in basket \", this.totalItems())), products, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"shoppingbasket-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"TOTAL PRICE = \\xA3\", this.totalPrice())), this.props.login && React.createElement(React.Fragment, null, React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"CUSTOMER DETAILS\")), React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, this.props.customer.firstName, \" \", this.props.customer.secondName), React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, this.props.customer.address1), React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, this.props.customer.address2), React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, this.props.customer.address3), React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, this.props.customer.address4), React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, this.props.customer.address5), React.createElement(\"li\", {\n      className: \"shoppingbasket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, this.props.customer.address6)), this.totalItems() > 0 && React.createElement(\"div\", {\n      className: \"centerbutton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"payButton\",\n      variant: \"contained\",\n      color: \"secondary\",\n      onClick: () => {\n        this.props.openModal(\"checkout\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"PAY \\xA3\", this.totalPrice(), \" NOW\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    })), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.props.closeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Close\"), !this.props.login && React.createElement(React.Fragment, null, React.createElement(Button, {\n      onClick: () => {\n        this.props.openModal(\"signin\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"REGISTER\"), React.createElement(Button, {\n      onClick: () => {\n        this.props.openModal(\"signin\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Sign In\")), this.props.login && this.props.basket > 1 && React.createElement(Button, {\n      onClick: () => {\n        this.props.openModal(\"signin\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"CHECKOUT\")))));\n  }\n\n}\n\nexport default Checkout;","map":{"version":3,"sources":["/home/simon/tr_course/ecomnew/src/components/checkout.js"],"names":["React","Component","makeStyles","Button","Modal","Checkout","state","errorMessage","email","password","handleChange","event","name","target","setState","value","totalPrice","basket","props","i","length","qty","cost","totalItems","total","render","products","map","elem","title","format","openClose","closeModal","login","customer","firstName","secondName","address1","address2","address3","address4","address5","address6","openModal"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Modal from 'react-bootstrap/Modal'\n// done with Bootstrap modal\n\n// const classes = this.useStyles();\n\n\nclass Checkout extends Component {\n\n    // constructor(props, context) {\n    //     super(props, context);\n\n    state = {\n        // show: false,\n        errorMessage: '',\n        email: '',\n        password: ''\n    };\n\n\n\n    // this.handleChange = this.handleChange.bind(this);\n    // }\n\n\n\n\n\n\n    handleChange = (event) => {\n        const name = event.target.name\n        this.setState({\n            [name]: event.target.value,\n            errorMessage: ''\n        })\n    }\n\n    totalPrice = () => {\n        var totalPrice = 0\n        const basket = this.props.basket\n        for (let i = 0; i < basket.length; i++) {\n            totalPrice = totalPrice + (basket[i].qty * basket[i].cost)\n        }\n        return totalPrice\n    }\n\n    totalItems = () => {\n        var total = 0\n        for (let i = 0; i < this.props.basket.length; i++) {\n            total = total + this.props.basket[i].qty\n        }\n        return total\n    }\n\n    render() {\n\n        const products = this.props.basket.map(function (elem, i) {\n            return (\n                <li key={i} className=\"shoppingbasket\">\n                    <span>\n                        {elem.qty}{\" x \"}\n                        {elem.title}{\" \"}\n                        {elem.format}{\" @ £\"}\n                        {elem.cost}{\" each\"}\n                    </span>\n                    <span className=\"shoppingbasket-right\">\n                        {\" = £\"}{elem.cost * elem.qty}\n                    </span>\n                </li>\n            )\n        })\n\n        // const classes = this.useStyles();\n        // const useStyles = makeStyles(theme => ({\n        //     button: {\n        //       margin: theme.spacing(1),\n        //     },\n        //     input: {\n        //       display: 'none',\n        //     },\n        //   }));\n\n\n        return (\n            <>\n                <element>\n\n                    <Modal show={this.props.openClose} onHide={this.props.closeModal}>\n                        <Modal.Header closeButton>\n{(this.totalItems()===1) &&\n\n                            <Modal.Title>CHECKOUT {this.totalItems()} ITEM</Modal.Title>\n}\n{(this.totalItems()!==1) &&\n\n    <Modal.Title>CHECKOUT {this.totalItems()} ITEMS</Modal.Title>\n}\n                        </Modal.Header>\n\n                        <p className=\"shoppingbasket\"><strong>Number of items in basket {this.totalItems()}</strong></p>\n\n                        {products}\n                        <p></p>\n                        <p className=\"shoppingbasket-right\">\n                            <strong>TOTAL PRICE = £{this.totalPrice()}</strong>\n                        </p>\n\n                        {/* CUSTOMER DETAILS */}\n                        {this.props.login &&\n                            <>\n                                <li className=\"shoppingbasket\"><strong>CUSTOMER DETAILS</strong></li>\n                                <li className=\"shoppingbasket\">{this.props.customer.firstName}{\" \"}{this.props.customer.secondName}</li>\n                                <li className=\"shoppingbasket\">{this.props.customer.address1}</li>\n                                <li className=\"shoppingbasket\">{this.props.customer.address2}</li>\n                                <li className=\"shoppingbasket\">{this.props.customer.address3}</li>\n                                <li className=\"shoppingbasket\">{this.props.customer.address4}</li>\n                                <li className=\"shoppingbasket\">{this.props.customer.address5}</li>\n                                <li className=\"shoppingbasket\">{this.props.customer.address6}</li>\n                            </>\n                        }\n\n                        {(this.totalItems() > 0) &&\n                            <div className=\"centerbutton\">\n                                <Button className=\"payButton\" variant=\"contained\" color=\"secondary\" onClick={() => { this.props.openModal(\"checkout\") }} >PAY £{this.totalPrice()} NOW\n                                    </Button>\n                                    <p></p>\n                            </div>\n                        }\n                        <Modal.Footer>\n                            <Button onClick={this.props.closeModal}>\n                                Close\n                            </Button>\n                            {(!this.props.login) &&\n                                <>\n                                    <Button onClick={() => { this.props.openModal(\"signin\") }} >REGISTER\n                                    </Button>\n                                    <Button onClick={() => { this.props.openModal(\"signin\") }} >Sign In\n                                    </Button>\n                                </>\n                            }\n                            {(this.props.login) && this.props.basket > 1 &&\n                                <Button onClick={() => { this.props.openModal(\"signin\") }} >CHECKOUT\n                                </Button>\n                            }\n\n\n\n                        </Modal.Footer>\n                    </Modal>\n                </element>\n            </>\n        );\n    }\n}\n\n\nexport default Checkout;"]},"metadata":{},"sourceType":"module"}