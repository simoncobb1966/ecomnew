{"ast":null,"code":"var _jsxFileName = \"/home/simon/tr_course/ecomnew/src/components/signin.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\"; // import Button from '@material-ui/core/Button';\n\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form'; //  import FormControl from 'react-bootstrap/FormControl'\n// import Row from 'react-bootstrap/Row'\n// import Col from 'react-bootstrap/Col'\n// done with Bootstrap modal\n\nclass SignIn extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // show: false,\n      errorMessage: '',\n      email: '',\n      password: ''\n    };\n\n    this.handleChange = event => {\n      const name = event.target.name;\n      this.setState({\n        [name]: event.target.value,\n        errorMessage: ''\n      });\n    };\n\n    this.signInHandler = customerList => {\n      var details = {\n        email: \"\",\n        password: \"\"\n      };\n      const signIn = this.props.signIn;\n      const email = this.state.email;\n      const password = this.state.password;\n      details.email = email;\n      details.password = password;\n\n      if (email === \"admin\" && password === \"admin\") {\n        signIn(details);\n      }\n\n      if (details.password === \"\") {\n        this.setState({\n          errorMessage: \"Password not found, please re-enter\"\n        });\n      }\n\n      if (details.email === \"\") {\n        this.setState({\n          errorMessage: \"Email not found, please re-enter or register\"\n        });\n      }\n\n      if (password !== \"\" & email !== \"\") {\n        const result = this.dbAddCustomer(details);\n        console.log(result);\n        signIn(result);\n      }\n    };\n  }\n\n  async dbAddCustomer(object) {\n    let response = await axios.post(\"https://rxfg014ygk.execute-api.eu-west-2.amazonaws.com/dev/tasks\", object);\n    let data = response.data;\n    return data.taskId[0]; // console.log(data)\n    // this.setState({\n    //    customer: data.taskId[0],\n    //   login: true\n    // })\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Modal, {\n      show: this.props.openClose,\n      onHide: this.props.closeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Sign in to James Bond Shop\")), React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      className: \"createAccount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Email\", React.createElement(Form.Control, {\n      onChange: this.handleChange,\n      name: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), \"Password\", React.createElement(Form.Control, {\n      type: \"password\",\n      controlid: \"formBasicPassword\",\n      onChange: this.handleChange,\n      name: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"redText centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, this.state.errorMessage), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.props.closeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => this.signInHandler(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Sign In\")))));\n  }\n\n}\n\nexport default SignIn;","map":{"version":3,"sources":["/home/simon/tr_course/ecomnew/src/components/signin.js"],"names":["React","Component","axios","Modal","Button","Form","SignIn","state","errorMessage","email","password","handleChange","event","name","target","setState","value","signInHandler","customerList","details","signIn","props","result","dbAddCustomer","console","log","object","response","post","data","taskId","render","openClose","closeModal","handleSubmit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\"\n// import Button from '@material-ui/core/Button';\nimport Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\nimport Form from 'react-bootstrap/Form'\n//  import FormControl from 'react-bootstrap/FormControl'\n// import Row from 'react-bootstrap/Row'\n// import Col from 'react-bootstrap/Col'\n// done with Bootstrap modal\nclass SignIn extends Component {\n\n    // constructor(props, context) {\n    //     super(props, context);\n\n    state = {\n        // show: false,\n        errorMessage: '',\n        email: '',\n        password: ''\n    };\n\n\n\n    // this.handleChange = this.handleChange.bind(this);\n    // }\n\n    handleChange = (event) => {\n        const name = event.target.name\n        this.setState({\n            [name]: event.target.value,\n            errorMessage: ''\n        })\n    }\n\n    signInHandler = (customerList) => {\n        var details = {\n            email: \"\",\n            password: \"\"\n        }\n        const signIn = this.props.signIn\n        const email = this.state.email\n        const password = this.state.password\n        details.email = email\n        details.password = password\nif (email===\"admin\" && password===\"admin\"){\n    signIn(details)\n}\n\n\n        if (details.password === \"\") { this.setState({ errorMessage: \"Password not found, please re-enter\" }) }\n        if (details.email === \"\") { this.setState({ errorMessage: \"Email not found, please re-enter or register\" }) }\n        \n        if (password !==\"\" & email!==\"\"){\n            const result = this.dbAddCustomer(details)\n            console.log(result)\n        signIn(result)\n        }\n\n\n    }\n\n\n\n    async dbAddCustomer (object)  {\n        let response = await axios.post(\"https://rxfg014ygk.execute-api.eu-west-2.amazonaws.com/dev/tasks\",\n            object\n          )\n          let { data } = response\n          return data.taskId[0]\n\n                // console.log(data)\n                // this.setState({\n                //    customer: data.taskId[0],\n                //   login: true\n                // })\n              }\n            \n\n\n    render() {\n        return (\n            <>\n                {/* <element> */}\n\n                    <Modal show={this.props.openClose} onHide={this.props.closeModal}>\n                        <Modal.Header closeButton>\n                            <Modal.Title>Sign in to James Bond Shop</Modal.Title>\n                        </Modal.Header>\n\n                        <Form onSubmit={this.handleSubmit} className=\"createAccount\">\n\n                            Email\n                            <Form.Control onChange={this.handleChange} name=\"email\" />\n\n                            Password\n                            <Form.Control type=\"password\" controlid=\"formBasicPassword\" onChange={this.handleChange} name=\"password\" />\n\n                            <p className=\"redText centered\">{this.state.errorMessage}</p>\n\n                            <Modal.Footer>\n                                <Button variant=\"secondary\" onClick={this.props.closeModal}>\n                                    Cancel\n            </Button>\n                                <Button variant=\"primary\" onClick={() => this.signInHandler()} >\n                                    Sign In\n            </Button>\n                            </Modal.Footer>\n                        </Form>\n                    </Modal>\n                {/* </element> */}\n            </>\n        );\n    }\n}\n\n\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}